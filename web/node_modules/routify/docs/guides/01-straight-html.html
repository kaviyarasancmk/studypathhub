<!DOCTYPE html>


<html>
<head>
  <title>Using routify.js on straight HTML pages</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="../tpe.css" />
</head>
<body>
  <div class="container">
      <div class="header">
        <div class="topbar">
          <div id="logo" alt="TPE">
          </div>
          <h3>Using routify.js on straight HTML pages</h3>
          <!-- <img id="logo" src="/images/TPE_logo_white.png" height="60px" alt="TPE" > -->
          <div class="links">
            <a href="https://github.com/mobily-enterprises/routify" target="_blank" title="View on GitHub">
              <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
            </a>
          </div>
        </div>

      </div>
      <div class="main">
        
          <div class="toc">
            <ul>
              
                
                
                  <li>
                      <a class="source " href="../index.html">
                          index
                      </a>
                  </li>
                
              
                
                
                  <li>
                      <a class="source " href="../api.html">
                          api
                      </a>
                  </li>
                
              
                
                
                  <li>
                      <a class="source  current " href="../guides.html">
                          guides
                      </a>
                  </li>
                
              
                
                
                  <li>
                      <a class="source  indented  current " href="01-straight-html.html">
                          01 straight html
                      </a>
                  </li>
                
              
                
                
                  <li>
                      <a class="source  indented " href="02-open-wc-to-routify.html">
                          02 open wc to routify
                      </a>
                  </li>
                
              
                
                
                  <li>
                      <a class="source  indented " href="03-open-wc-page-with-parameter.html">
                          03 open wc page with parameter
                      </a>
                  </li>
                
              
                
                
                  <li>
                      <a class="source  indented " href="04-open-wc-routing-groups.html">
                          04 open wc routing groups
                      </a>
                  </li>
                
              
                
                
                  <li>
                      <a class="source " href="../routify.html">
                          routify.js
                      </a>
                  </li>
                
              
            </ul>
          </div>
        
        <div class="contentPage">
          
            
            <p>Using routify.js in straight HTML pages is probably not the most common use case.
However, it is a great way to see the potential of routify.js.</p>
<p>First of all, create a new directory:</p>
<pre><code>$ mkdir plain-page-app</code></pre><p>Once in it, initialise it for NPM:</p>
<pre><code>$ npm init</code></pre><p>Answer the basic questions. At this point, install the <code>es-dev-server</code> which will only be used to serve the same entry point:</p>
<pre><code>$ npm install --save es-dev-server</code></pre><p>Finally, install routify.js:</p>
<pre><code>$ npm install --save routify</code></pre><p>At this point you are ready to serve your <code>index.html</code> file with the command:</p>
<pre><code>$ ./node_modules/.bin/es-dev-server -a index.html</code></pre><p>Create an index.html file with the following contents. Donâ€™t forget to have <code>&lt;base href=&quot;/&quot;&gt;</code> in your file.</p>
<pre><code><span class="xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-meta-keyword">html</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0, viewport-fit=cover"</span> /&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Description"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"Put your description here."</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">base</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span></span>

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span>
<span class="hljs-code">    html, body {</span>
<span class="hljs-code">      margin: 0;</span>
<span class="hljs-code">      padding: 0;</span>
<span class="hljs-code">      font-family: sans-serif;</span>
<span class="hljs-code">      background-color: #ededed;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    #app {</span>
<span class="hljs-code">      min-height: 100vh;</span>
<span class="hljs-code">      display: flex;</span>
<span class="hljs-code">      flex-direction: column;</span>
<span class="hljs-code">      align-items: center;</span>
<span class="hljs-code">      justify-content: flex-start;</span>
<span class="hljs-code">      font-size: calc(10px + 2vmin);</span>
<span class="hljs-code">      color: #1a2b42;</span>
<span class="hljs-code">      max-width: 960px;</span>
<span class="hljs-code">      margin: 0 auto;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    header {</span>
<span class="hljs-code">      width: 100%;</span>
<span class="hljs-code">      background: #fff;</span>
<span class="hljs-code">      border-bottom: 1px solid #ccc;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    header ul {</span>
<span class="hljs-code">      display: flex;</span>
<span class="hljs-code">      justify-content: space-around;</span>
<span class="hljs-code">      min-width: 400px;</span>
<span class="hljs-code">      margin: 0 auto;</span>
<span class="hljs-code">      padding: 0;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    header ul li {</span>
<span class="hljs-code">      display: flex;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    header ul li a {</span>
<span class="hljs-code">      color: #5a5c5e;</span>
<span class="hljs-code">      text-decoration: none;</span>
<span class="hljs-code">      font-size: 18px;</span>
<span class="hljs-code">      line-height: 36px;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    header ul li a:hover,</span>
<span class="hljs-code">    header ul li a[selected] {</span>
<span class="hljs-code">      color: blue;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    main {</span>
<span class="hljs-code">      flex-grow: 1;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    .app-footer {</span>
<span class="hljs-code">      font-size: calc(12px + 0.5vmin);</span>
<span class="hljs-code">      align-items: center;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    .app-footer a {</span>
<span class="hljs-code">      margin-left: 5px;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    .page:not([active]) {</span>
<span class="hljs-code">      display: none;</span>
<span class="hljs-code">    }</span>

<span class="hljs-code">    .page[active] {</span>
<span class="hljs-code">      display: block;</span>
<span class="hljs-code">    }</span>
  <span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span></span>routing-app<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span>
<span class="hljs-code">    &lt;header&gt;</span>
<span class="hljs-code">      &lt;ul&gt;</span>
<span class="hljs-code">        &lt;li&gt;</span>
<span class="hljs-code">          &lt;a href="/page-main"&gt;</span>
<span class="hljs-code">            Main</span>
<span class="hljs-code">          &lt;/a&gt;</span>
<span class="hljs-code">        &lt;/li&gt;</span>
<span class="hljs-code">        &lt;li&gt;</span>
<span class="hljs-code">          &lt;a href="/page-one"&gt;</span>
<span class="hljs-code">            Page One</span>
<span class="hljs-code">          &lt;/a&gt;</span>
<span class="hljs-code">        &lt;/li&gt;</span>
<span class="hljs-code">        &lt;li&gt;</span>
<span class="hljs-code">          &lt;a href="/page-about"&gt;</span>
<span class="hljs-code">            About</span>
<span class="hljs-code">          &lt;/a&gt;</span>
<span class="hljs-code">        &lt;/li&gt;</span>
<span class="hljs-code">        &lt;li&gt;</span>
<span class="hljs-code">          &lt;a href="/wrong-link"&gt;</span>
<span class="hljs-code">            Wrong</span>
<span class="hljs-code">          &lt;/a&gt;</span>
<span class="hljs-code">        &lt;/li&gt;</span>
<span class="hljs-code">      &lt;/ul&gt;</span>
<span class="hljs-code">    &lt;/header&gt;</span>

<span class="hljs-code">    &lt;main&gt;</span>
<span class="hljs-code">      &lt;page-main class="page" page-path="/page-main /"&gt;</span>
<span class="hljs-code">        &lt;h1&gt;Main page&lt;/h1&gt;</span>
<span class="hljs-code">      &lt;/page-main&gt;</span>

<span class="hljs-code">      &lt;page-one class="page" page-path="/page-one"&gt;</span>
<span class="hljs-code">        &lt;h1&gt;Page one&lt;/h1&gt;</span>
<span class="hljs-code">      &lt;/page-one&gt;</span>

<span class="hljs-code">      &lt;page-about class="page" page-path="/page-about"&gt;</span>
<span class="hljs-code">        &lt;h1&gt;About page&lt;/h1&gt;</span>
<span class="hljs-code">      &lt;/page-about&gt;</span>

<span class="hljs-code">      &lt;page-fallback class="page" fallback&gt;</span>
<span class="hljs-code">        &lt;p&gt;Page not found try going to &lt;a href="/"&gt;Main&lt;/a&gt;&lt;/p&gt;</span>
<span class="hljs-code">      &lt;/page-fallback&gt;</span>
<span class="hljs-code">    &lt;/main&gt;</span>

<span class="hljs-code">    &lt;p class="app-footer"&gt;</span>
<span class="hljs-code">      ðŸš½ Made with love by</span>
<span class="hljs-code">      &lt;a target="_blank" rel="noopener noreferrer" href="https://github.com/open-wc"&gt;open-wc&lt;/a&gt;.</span>
<span class="hljs-code">    &lt;/p&gt;</span>
  <span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span></span>
<span class="hljs-code">    import { registerRoute, registerRoutesFromSelector } from './node_modules/routify/routify.js'</span>
<span class="hljs-code">    registerRoutesFromSelector(document, '.page')</span>

<span class="hljs-code">    document.querySelector('page-main').routerCallback = (params) =&gt; {</span>
<span class="hljs-code">      console.log('Displaying main page')</span>
<span class="hljs-code">    }</span>
  <span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></code></pre><p>As you can see, itâ€™s a basic HTML file. The only interesting part is the last bit:</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span></span>
  import { registerRoutesFromSelector } from './node_modules/routify/routify.js'
  registerRoutesFromSelector(document, '.page')

  document.querySelector('page-main').routerCallback = (params) =&gt; {
<span class="hljs-code">    console.log('Displaying main page')</span>
  }
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span></code></pre><p>This will make sure that routify.js is imported as a module, and that all of the pages with class <code>page</code> will have the <code>active</code> attribute when their paths are active.</p>
<p>Their paths are set by the <code>page-path</code> attribute. Note that the main page has two space-separated routes.</p>
<p>To show the potential of this solution, note that a function called <code>routerCallback()</code> is added to one of the routing elements; that function is called every time a route becomes active.</p>

            
          
        </div>
      </div>
    </div>
    <div class="bottombar">

    </div>
  </div>
</body>
</html>
